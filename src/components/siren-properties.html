<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../utility/siren-entity-mixin.html">
<link rel="import" href="../styles/shared-styles.html">

<dom-module id="siren-properties">
	<template>
		<style include="shared-styles">
		</style>
		<h2>Properties</h2>
		<div class="pre">
			<pre>{{properties}}</pre>
		</div>
	</template>

	<script>
		/* @mixes SirenEntityMixin */
		class SirenProperties extends SirenEntityMixin(Polymer.Element) {

			static get is() { return 'siren-properties'; }

      static get properties() {
        return {
          properties: {
            type: String,
            value: ''
          }
        }
      };
      static get observers() {
        return [
          '_changed(entity)'
        ];
      };
      _changed(entity){
        this.entity = entity;
        this.properties = this._getProperties();
      }
      _hasProperties() {
        return this.entity && this.entity.properties;
      }

      _getProperties() {
        return this._hasProperties() && JSON.stringify(this.entity.properties, null, 2) || '';
      }
		}

		window.customElements.define(SirenProperties.is, SirenProperties);
	</script>
</dom-module>
